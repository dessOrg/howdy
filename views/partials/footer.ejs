<!--Footer Start-->
<footer id="footer">
  <div class="fpart-first">
    <div class="container">
      <div class="row">
        <div class="contact col-lg-4 col-md-4 col-sm-12 col-xs-12">
          <h5>Contact Details</h5>
          <ul>
            <li class="address"><i class="fa fa-map-marker"></i>Island, Mombasa, Kenya</li>
            <li class="mobile"><i class="fa fa-phone"></i>+254 9898777656</li>
            <li class="email"><i class="fa fa-envelope"></i>Send email via our <a href="contact-us.html">Contact Us</a>
          </ul>
        </div>
        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
          <h5>Information</h5>
          <ul>
            <li><a href="about-us.html">About Us</a></li>
            <li><a href="about-us.html">Delivery Information</a></li>
            <li><a href="about-us.html">Privacy Policy</a></li>
            <li><a href="about-us.html">Terms &amp; Conditions</a></li>
          </ul>
        </div>
        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
          <h5>Customer Service</h5>
          <ul>
            <li><a href="contact-us.html">Contact Us</a></li>
            <li><a href="#">Returns</a></li>
            <li><a href="sitemap.html">Site Map</a></li>
          </ul>
        </div>
        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
          <h5>Extras</h5>
          <ul>
            <li><a href="#">Brands</a></li>
            <li><a href="#">Gift Vouchers</a></li>
            <li><a href="#">Affiliates</a></li>
            <li><a href="#">Specials</a></li>
          </ul>
        </div>
        <div class="column col-lg-2 col-md-2 col-sm-3 col-xs-12">
          <h5>My Account</h5>
          <ul>
            <li><a href="#">My Account</a></li>
            <li><a href="#">Order History</a></li>
            <li><a href="#">Wish List</a></li>
            <li><a href="#">Newsletter</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="fpart-second">
    <div class="container">
      <div id="powered" class="clearfix">
        <div class="powered_text pull-left flip">
          <p>Website Designed By<a href="http://harnishdesign.net" target="_blank"> I-Maketa</a></p>
        </div>
        <div class="social pull-right flip"> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/socialicons/facebook.png" alt="Facebook" title="Facebook"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/socialicons/twitter.png" alt="Twitter" title="Twitter"> </a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/socialicons/google_plus.png" alt="Google+" title="Google+"> </a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/socialicons/pinterest.png" alt="Pinterest" title="Pinterest"> </a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/socialicons/rss.png" alt="RSS" title="RSS"> </a> </div>
      </div>
      <div class="bottom-row">
        <div class="custom-text text-center">
          <p>This is a CMS block. You can insert any content (HTML, Text, Images) Here. Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.</p>
        </div>
        <div class="payments_types"> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_paypal.png" alt="paypal" title="PayPal"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_american.png" alt="american-express" title="American Express"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_2checkout.png" alt="2checkout" title="2checkout"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_maestro.png" alt="maestro" title="Maestro"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_discover.png" alt="discover" title="Discover"></a> <a href="#" target="_blank"> <img data-toggle="tooltip" src="image/payment/payment_mastercard.png" alt="mastercard" title="MasterCard"></a> </div>
      </div>
    </div>
  </div>
  <div id="back-top"><a data-toggle="tooltip" title="Back to Top" href="javascript:void(0)" class="backtotop"><i class="fa fa-chevron-up"></i></a></div>
</footer>
<!--Footer End-->
<!-- Facebook Side Block Start -->
<div id="facebook" class="fb-left sort-order-1">
  <div class="facebook_icon"><i class="fa fa-facebook"></i></div>
  <div class="fb-page" data-href="https://www.facebook.com/harnishdesign/" data-small-header="true" data-adapt-container-width="true" data-hide-cover="true" data-show-facepile="true" data-show-posts="false">
    <div class="fb-xfbml-parse-ignore">
      <blockquote cite="https://www.facebook.com/harnishdesign/"><a href="https://www.facebook.com/harnishdesign/">I-Maketa</a></blockquote>
    </div>
  </div>
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
</div>
<!-- Facebook Side Block End -->
<!-- Twitter Side Block Start -->
<div id="twitter_footer" class="twit-left sort-order-2">
  <div class="twitter_icon"><i class="fa fa-twitter"></i></div>
  <a class="twitter-timeline" href="https://twitter.com/" data-chrome="nofooter noscrollbar transparent" data-theme="light" data-tweet-limit="2" data-related="twitterapi,twitter" data-aria-polite="assertive" data-widget-id="347621595801608192">Tweets by @</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
<!-- Twitter Side Block End -->
<!-- Video Side Block Start -->
<div id="video_box" class="vb-left sort-order-3">
  <div id="video_box_icon"><i class="fa fa-play"></i></div>
  <p>
    <iframe allowfullscreen="" src="//www.youtube.com/embed/SZEflIVnhH8" height="315" width="560"></iframe>
  </p>
</div>
<!-- Video Side Block End -->
<script>

     $(".add-to-cart").click(function(event){
         event.preventDefault();
         var id = $(this).attr("data-id");
         var name = $(this).attr("data-name");
         var picture = $(this).attr("data-picture");
         var price = Number($(this).attr("data-price"));
         console.log(id);
         hwShoppingCart.addItemToCart(id, name, picture, price, 1)
         displayCart();
     });


     $("#clear-cart").click(function(event){
       hwShoppingCart.clearCart();
       displayCart();
     })

     function displayCart() {
         var cartArray = hwShoppingCart.listCart();
         var output = "";
         for (var i in cartArray) {
              output += "<tr>"+"<td class='text-center'>"
              +"<a href='product.html'>"
              +"<img class='img-thumbnail' src="+"'"+cartArray[i].picture+"'"+"style='height : 50px; width : 50px'>"
              +"</a>"
              +" "+cartArray[i].name
              +" "+cartArray[i].count
              +" x "+cartArray[i].price
              +" = "+cartArray[i].total
              +"<button class='plus-item' data-id='"
              +cartArray[i].id+"'>+</button>"
              +"<button class='subtract-item' data-id='"
              +cartArray[i].id+"'>-</button>"
              +"<button class='delete-item' data-id='"
              +cartArray[i].id+"'>x</button>"
              +"</td>"
              +"</tr>"
         }
         $("#show-cart").html(output);
         $("#total-cart").html(hwShoppingCart.totalCart());
     }

     $("#show-cart").on("click", ".delete-item", function(event){
       var id = $(this).attr("data-id");
       hwShoppingCart.removeItemFromCartAll(id);
       displayCart();
     });

     $("#show-cart").on("click", ".subtract-item", function(event){
       var id = $(this).attr("data-id");
       hwShoppingCart.removeItemFromCart(id);
       displayCart();
     });

     $("#show-cart").on("click", ".plus-item", function(event){
       var id = $(this).attr("data-id");
       hwShoppingCart.addItemToCart(id, "", "", 0, 1);
       displayCart();
     });

     //***********************
     // Shopping cart functions
     var hwShoppingCart = {};
      hwShoppingCart.cart = [];

     hwShoppingCart.Item = function(id, name, picture, price, count){
       this.id = id
       this.name = name
       this.picture = picture
       this.price = price
       this.count = count
     };

     // addItemToCart
     hwShoppingCart.addItemToCart = function(id, name, picture, price, count){
        for (var i in this.cart ){
          if(this.cart[i].id === id){
            this.cart[i].count += count;
            hwShoppingCart.saveCart();
            return;
          }
        }
        var item = new this.Item(id, name, picture, price, count);
        console.log(item);
        this.cart.push(item);
        hwShoppingCart.saveCart();
     }


     hwShoppingCart.removeItemFromCart = function(id) {// Remove one item
         for (var i in this.cart){
           if (this.cart[i].id === id) {
               this.cart[i].count --;
               if (this.cart[i].count === 0){
                 this.cart.splice(i, 1);
               }
               break;
           }
         }
         hwShoppingCart.saveCart();
     }

     hwShoppingCart.removeItemFromCartAll = function(id)  {// Removes all item name
       for (var i in this.cart){
         if (this.cart[i].id === id) {
             if (this.cart[i].count === 0){
               this.cart.splice(i, 1);
             }
             break;
         }
       }
       hwShoppingCart.saveCart()
     }


     hwShoppingCart.clearCart = function() {
       this.cart = [];
       hwShoppingCart.saveCart();
     }

     //clearCart();

     hwShoppingCart.countCart = function() { // return total countCart
        var totalCount = 0;
        for (var i in this.cart) {
          totalCount += this.cart[i].coount;
        }
        return totalCount;
     }

     hwShoppingCart.totalCart = function() { // return total cost
       var totalCost = 0;
       for (var i in this.cart) {
         totalCost += this.cart[i].price * this.cart[i].count;
       }
       return totalCost.toFixed(2);
     }

     hwShoppingCart.listCart = function() { // -> array of item
         var cartCopy = [];
         for (var i in this.cart) {
              var item = this.cart[i];
              var itemCopy = {};
              for (var p in item) {
                   itemCopy[p] = item[p];
               }
               itemCopy.total = (item.price * item.count).toFixed(2);
               cartCopy.push(itemCopy);
         }
         return cartCopy;
      }

     hwShoppingCart.saveCart = function() { //save cart to local storage
       localStorage.setItem("hwShoppingCart", JSON.stringify(this.cart));
     }

     hwShoppingCart.loadCart = function() { // load cart from local storage
       this.cart = JSON.parse(localStorage.getItem("hwShoppingCart"));
       if (this.cart === null) {
             this.cart = [];
            }
     }
     hwShoppingCart.loadCart();


displayCart();

console.log("Shopping Cart : cart")
console.log(hwShoppingCart.cart)

</script>
